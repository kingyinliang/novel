webpackJsonp([33],{"3IFn":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Dd8w"),o=e.n(i),s=e("NYxO"),n=e("dw9j"),l=e("P9l9"),c=e("Au9i"),r={name:"sidebar",data:function(){return{pageNo:1,catalogs:[],totalCount:20,sortType:1}},props:{popupVisible:{},sidebar:{}},mounted:function(){},methods:o()({gocajviewer:function(t){this.setCatalogcode(t),-1!==window.location.href.indexOf("bookdetail")?this.$router.push({path:"/cajviewer"}):this.$router.go(0)},sorttype:function(){var t=this;1===this.sortType?this.sortType=2:this.sortType=1,this.pageNo=1,Object(n.a)(""+l.a.BOOKCATALOGS_API,"GET",{book_serial_num:this.detailid,pageNo:this.pageNo,pageSize:20,sortType:this.sortType}).then(function(a){t.catalogs=a.data.catalogs,t.totalCount=a.data.totalCount})},getcatalog:function(){var t=this;Object(n.a)(""+l.a.BOOKCATALOGS_API,"GET",{book_serial_num:this.detailid,pageNo:this.pageNo,pageSize:20,sortType:this.sortType}).then(function(a){t.catalogs=t.catalogs.concat(a.data.catalogs),t.totalCount=a.data.totalCount})},loadMore:function(){if(this.pageNo>Math.ceil(this.totalCount/20))return this.loading=!0,Object(c.Toast)({message:"暂无更多章节",duration:8e3}),!1;this.getcatalog(),this.pageNo++}},Object(s.b)({setCatalogcode:"setCatalogcode"})),computed:o()({},Object(s.c)({detailid:function(t){return t.detail.detailid}}))},p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.popupVisible,expression:"popupVisible"}],staticClass:"mask",on:{click:t.sidebar}}),t._v(" "),e("transition",{attrs:{name:t.popupVisible?"filtrate-left":"filtrate-right"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.popupVisible,expression:"popupVisible"}],staticClass:"bookfiltrate"},[e("div",{staticClass:"tit"},[e("span",{staticClass:"btit"},[t._v("目录")]),t._v(" "),e("span",{staticClass:"total"},[t._v("共"+t._s(t.totalCount)+"章")]),t._v(" "),e("a",{on:{click:t.sorttype}},[e("i",{staticClass:"iconfont novel-sort"}),t._v("排序")])]),t._v(" "),e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":""}},t._l(t.catalogs,function(a,i){return e("li",{key:i,on:{click:function(e){t.gocajviewer(a.catalog_code)}}},[t._v("第"+t._s(a.catalog_num)+"章："+t._s(a.title)+" "),1==a.charge_type?e("span",[e("i",{staticClass:"vip"},[t._v("vip")])]):t._e()])}))])])],1)},staticRenderFns:[]};var u=e("VU/8")(r,p,!1,function(t){e("H+oX")},"data-v-3bc24f06",null);a.default=u.exports},"H+oX":function(t,a){}});