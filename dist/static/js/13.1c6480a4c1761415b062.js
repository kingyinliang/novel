webpackJsonp([13],{"4q49":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});t("Qbok"),t("HY2O");var o=t("dw9j"),n=t("P9l9"),r=t("Au9i"),a={name:"forgotPassword",components:{Heads:function(e){t.e(27).then(function(){var s=[t("2Hch")];e.apply(null,s)}.bind(this)).catch(t.oe)},qrcode:function(e){t.e(29).then(function(){var s=[t("VIRL")];e.apply(null,s)}.bind(this)).catch(t.oe)}},data:function(){return{registerPhone:"",newPassWord:"",registerPhoneMsg:"",checkUserPhone:!0,PhoneMsg:!0,postPhoneMsgCode:!1,checkUserPass:!0,newPassWord2:"",checkUserPassSure:!0,postCode:!0,show:!0,count:"",timer:null,sendInfo:!0}},mounted:function(){},methods:{checkPhone:function(e){/^0?(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[89])[0-9]{8}$/.test(this.registerPhone)?(this.checkUserPhone=!0,this.postPhoneMsgCode=!0):(this.checkUserPhone=!1,this.postPhoneMsgCode=!1,Object(r.Toast)({message:"*手机号输入错误！",duration:1e3}))},checkPassWord:function(e){/^[\w]{6,12}$/.test(this.newPassWord)?(console.log(1),this.checkUserPass=!0):(console.log(0),this.checkUserPass=!1,Object(r.Toast)({message:"*请输入6-16位数字/字母组成的密码！",duration:1e3}))},checkPhoneMsg:function(e){this.registerPhoneMsg?this.PhoneMsg=!0:(this.PhoneMsg=!1,Object(r.Toast)({message:"*请输入验证码！",duration:1e3}))},getCode:function(){var e=this;this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=60?e.count--:(e.show=!0,e.postCode=!0,clearInterval(e.timer),e.timer=null)},1e3))},postPhoneMsg:function(e){var s=this;this.postPhoneMsgCode&&this.postCode?(this.postCode=!1,Object(o.a)(""+n.a.POSTPHONEMSG_API,"GET",{mobile:this.registerPhone}).then(function(e){0==e.data.code&&s.getCode()})):Object(r.Toast)({message:"手机号不正确",duration:1e3})},checkPassWordSure:function(){this.newPassWord2==this.newPassWord?this.checkUserPassSure=!0:(this.checkUserPassSure=!1,Object(r.Toast)({message:"*密码不一致！",duration:1e3}))},modifyPhone:function(e){var s=this;this.checkUserPhone&&this.checkUserPass&&this.PhoneMsg&&this.checkUserPassSure?this.sendInfo&&(this.sendInfo=!1,r.Indicator.open(),Object(o.a)(""+n.a.RETRIEVE_API,"POST",{account_num:this.registerPhone,mobile_code:this.registerPhoneMsg,password:this.newPassWord,true_password:this.newPassWord2}).then(function(e){s.sendInfo=!0,r.Indicator.close(),Object(r.Toast)({message:e.data.msg,duration:1e3}),0==e.data.code&&s.$router.push({path:"/login"})})):Object(r.Toast)({message:"请填写完整信息",duration:1e3})}}},i={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"forgotPassword"}},[t("heads",{attrs:{tit:"找回密码",rigister:" "}}),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"formLogin"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerPhone,expression:"registerPhone"}],attrs:{type:"text",name:"mobile",placeholder:"请输入手机号"},domProps:{value:e.registerPhone},on:{blur:function(s){e.checkPhone()},input:function(s){s.target.composing||(e.registerPhone=s.target.value)}}}),e._v(" "),t("div",{staticClass:"pushMsg"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerPhoneMsg,expression:"registerPhoneMsg"}],staticClass:"entryMsg",attrs:{type:"text",name:"entryMsg",placeholder:"请输入校验码"},domProps:{value:e.registerPhoneMsg},on:{blur:function(s){e.checkPhoneMsg()},input:function(s){s.target.composing||(e.registerPhoneMsg=s.target.value)}}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"postMsg",on:{click:e.postPhoneMsg}},[e._v("获取验证码")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count postMsg"},[e._v(e._s(e.count)+" s")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassWord,expression:"newPassWord"}],attrs:{type:"password",name:"password",placeholder:"请输入新密码"},domProps:{value:e.newPassWord},on:{blur:function(s){e.checkPassWord()},input:function(s){s.target.composing||(e.newPassWord=s.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassWord2,expression:"newPassWord2"}],attrs:{type:"password",name:"password",placeholder:"请确认新密码"},domProps:{value:e.newPassWord2},on:{blur:function(s){e.checkPassWordSure()},input:function(s){s.target.composing||(e.newPassWord2=s.target.value)}}})]),e._v(" "),t("button",{staticClass:"goRegister",staticStyle:{margin:"63px auto 98px auto"},attrs:{id:"GoLogin"},on:{click:e.modifyPhone}},[e._v("确认修改")]),e._v(" "),t("qrcode")],1)},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:t("SvvV")}})])}]};var c=t("VU/8")(a,i,!1,function(e){t("RfNq")},null,null);s.default=c.exports},RfNq:function(e,s){}});